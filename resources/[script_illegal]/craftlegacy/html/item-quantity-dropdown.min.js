!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("item-quantity-dropdown",[],n):"object"==typeof exports?exports["item-quantity-dropdown"]=n():t["item-quantity-dropdown"]=n()}(this,function(){return function(t){function n(o){if(e[o])return e[o].exports;var r=e[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";e(1),function(t){var n={maxItems:1/0,minItems:0,selectionText:"item",textPlural:"items",controls:{position:"right",incrementText:"+",decrementText:"-",displayCls:"iqdropdown-item-display",controlsCls:"iqdropdown-item-controls",counterCls:"counter"},items:{},onChange:function(){},beforeDecrement:function(){return!0},beforeIncrement:function(){return!0}};t.fn.iqDropdown=function(e){function o(t,n){var e=parseInt(n.data("mincount"),10),o=parseInt(n.data("maxcount"),10);u.items[t]={minCount:isNaN(e)?0:e,maxCount:isNaN(o)?1/0:o}}function r(n,e,o){var r=t("<div />").addClass(u.controls.controlsCls),i=t("<button>"+u.controls.decrementText+"</button>"),s=t("<button>"+u.controls.incrementText+"</button>"),a=t("<span>"+l[n]+"</span>").addClass(u.controls.counterCls);return e.children("div").addClass(u.controls.displayCls),r.append(i,a,s),"right"===u.controls.position?e.append(r):e.prepend(r),i.click(function(t){var e=u.items,r=u.minItems,i=u.beforeDecrement,s=u.onChange,c=i(n,l);c&&d>r&&l[n]>e[n].minCount&&(l[n]--,d--,a.html(l[n]),o(),s(n,l[n],d)),t.preventDefault()}),s.click(function(t){var e=u.items,r=u.maxItems,i=u.beforeIncrement,s=u.onChange,c=i(n,l);c&&d<r&&l[n]<e[n].maxCount&&(l[n]++,d++,a.html(l[n]),o(),s(n,l[n],d)),t.preventDefault()}),e.click(function(t){return t.stopPropagation()}),e}function i(){var t=1!==d&&u.textPlural.length>0,n=t?u.textPlural:u.selectionText;s.html(d+" "+n)}var s=this.find("p").last(),a=this.find("ul"),c=a.find("li"),u=t.extend(!0,{},n,e),l={},d=0;return this.click(function(){s.toggleClass("menu-open"),a.toggleClass("show-menu")}),c.each(function(){var n=t(this),e=n.data("id"),s=parseInt(n.data("defaultcount")||"0",10);l[e]=s,d+=s,o(e,n),r(e,n,i)}),i(),this}}(jQuery)},function(t,n){}])});
